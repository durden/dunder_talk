<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Dunder What?</title>
    <!-- Styles -->
    
    <link rel="stylesheet" media="print" href="ribbon/css/print.css">
    <link rel="stylesheet" media="screen, projection" href="ribbon/css/screen.css">
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script type="text/javascript" src="/Users/durden/.virtualenvs/dunder_talk/lib/python2.7/site-packages/landslide/themes/default/js/slides.js"></script>
    
    
    <!-- /Javascripts -->
</head>
<body class="list">
    
      <!-- slide source: title.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Dunder What?</h1></header>
                
                
                    <section class="slide-content"><h2>The power behind Python's object model</h2>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>Whose heard the term 'dunder' before?</li>
<li>OK, so maybe at least a few of you will learn a new word today.</li>
<li>This is essentially a tour of dunder methods and their uses.</li>
<li>Not exhaustive and not super detailed.</li>
<li>Designed to give you a bunch of things to explore and look up.</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: about.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Luke Lee</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Software Engineer at <a href="http://www.blueback-reservoir.com/">Blueback Reservoir</a></li>
<li>Data mining apps in Python</li>
<li>Embedded C Developer</li>
<li>Django enthusiast</li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: dunder_basics.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Dunder Basics</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Dunder just slang for double underscore</li>
<li>Sometimes called 'magic methods'</li>
<li>'Private' class methods</li>
<li>Just methods!</li>
<li>Poorly documented</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <p>Lookup the args and when it's called and your good!</p>
<p>Use of 'magic' here is a poor choice since the Python community values
not using magic.  In fact, dunder methods are just plain old methods
that get called at specific, well-defined times.</p>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: dunder_basics.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Why dunders?</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Your already using them</li>
<li>Pythonic (common/idiomatic)</li>
<li>Operator overloading</li>
<li>Debugging tools</li>
<li>Avoid custom API/object semantics</li>
<li>Domain Specific Language (DSL)</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <p>Main goal is to make your object look and act like a standard Python type.</p>
<p>The person using your object already knows Python and how to use standard
types so don't make them learn all new semantics.</p>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: dunder_basics.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Common dunders</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">3</span> <span class="n">__unicode__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">4</span> <span class="n">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">5</span> <span class="n">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

<ul>
<li><a href="http://stackoverflow.com/questions/12223836/lookup-of-magic-methods-on-old-style-python-classes">Old-style class dunder lookup</a></li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>init/creation are separate steps for a good reason.</li>
<li>Initialize your class, not create</li>
<li>Takes all arguments from when you create object and passes them</li>
<li>
<p>Kind of like a constructor (not exactly)</p>
</li>
<li>
<p>When str() is called, '%s', print, etc.</p>
</li>
<li>Python starts at your object and looks for <strong>str</strong>.</li>
<li>
<p>Goes through the MRO</p>
</li>
<li>
<p>Different for old-style classes, some magic involved</p>
</li>
<li>
<p>Similar in theory to <strong>str</strong>, called by unicode(), etc.</p>
</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: features_powered_by_dunders.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Powered by Dunders</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Context Managers</li>
<li>Collections module</li>
<li>Properties</li>
<li>Descriptors</li>
<li>Callables</li>
<li>Pickling</li>
<li>Operator overloading</li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: context_managers.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Context Managers</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="n">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">)</span>
</pre></div>

<ul>
<li>Useful for 'book ended' actions</li>
<li>Simple exception handling</li>
<li>Built-in for File objects, etc. in 2.7</li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: context_managers.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Context Manager usage</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">ProgressBar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
<span class="lineno"> 2</span> <span class="o">...</span>   <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
<span class="lineno"> 3</span> <span class="o">...</span>     <span class="n">p</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="lineno"> 4</span> <span class="o">...</span>
<span class="lineno"> 5</span> <span class="mf">0.0</span> <span class="mf">20.0</span> <span class="mf">40.0</span> <span class="mf">60.0</span> <span class="mf">80.0</span> <span class="mf">100.0</span>
<span class="lineno"> 6</span> 
<span class="lineno"> 7</span> <span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">ProgressBar</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="k">as</span> <span class="n">p</span><span class="p">:</span>
<span class="lineno"> 8</span> <span class="o">...</span>   <span class="k">for</span> <span class="n">ii</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
<span class="lineno"> 9</span> <span class="o">...</span>     <span class="n">p</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ii</span><span class="p">)</span>
<span class="lineno">10</span> <span class="o">...</span>
<span class="lineno">11</span> <span class="mf">0.0</span> <span class="mf">20.0</span> <span class="mf">100.0</span>
</pre></div>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: context_managers.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Context Manager example</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">ProgressBar</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno"> 2</span>     <span class="sd">&quot;&quot;&quot;Progress bar that normalizes progress to [0 - 100] scale&quot;&quot;&quot;</span>
<span class="lineno"> 3</span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_val</span><span class="p">):</span>
<span class="lineno"> 4</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_curr_val</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno"> 5</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_done_val</span> <span class="o">=</span> <span class="mf">100.0</span>
<span class="lineno"> 6</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_max_val</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">max_val</span><span class="p">)</span>
<span class="lineno"> 7</span>     <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno"> 8</span>         <span class="sd">&quot;&quot;&quot;Start of context manager, &#39;with&#39; statement&quot;&quot;&quot;</span>
<span class="lineno"> 9</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_curr_val</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="lineno">10</span> 
<span class="lineno">11</span>         <span class="c"># Important!</span>
<span class="lineno">12</span>         <span class="k">return</span> <span class="bp">self</span>
<span class="lineno">13</span>     <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
<span class="lineno">14</span>         <span class="sd">&quot;&quot;&quot;End of context manager, leaving &#39;with&#39; statement&quot;&quot;&quot;</span>
<span class="lineno">15</span>         <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_max_val</span><span class="p">)</span>
<span class="lineno">16</span> 
<span class="lineno">17</span>         <span class="c"># Not handling any exceptions, so they&#39;ll be raised automatically</span>
<span class="lineno">18</span>         <span class="c"># To ignore exceptions return True or inspect arguments to handle</span>
<span class="lineno">19</span>         <span class="k">return</span> <span class="bp">False</span>
<span class="lineno">20</span> 
<span class="lineno">21</span>     <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="lineno">22</span>         <span class="k">if</span> <span class="n">value</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_val</span><span class="p">:</span>
<span class="lineno">23</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_curr_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done_val</span>
<span class="lineno">24</span>         <span class="k">else</span><span class="p">:</span>
<span class="lineno">25</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_curr_val</span> <span class="o">=</span> <span class="p">(</span><span class="n">value</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_val</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_done_val</span>
<span class="lineno">26</span> 
<span class="lineno">27</span>         <span class="k">print</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_curr_val</span><span class="p">),</span>
</pre></div>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: ordered_dict.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>OrderedDict</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="n">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
<span class="lineno">3</span> <span class="n">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">4</span> <span class="n">__delitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
<span class="lineno">5</span> <span class="n">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">6</span> <span class="n">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">7</span> <span class="n">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">8</span> <span class="n">__concat__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

<ul>
<li>Sequence protocol, implement what you need</li>
<li><a href="http://code.activestate.com/recipes/576693/">Pure Python OrderedDict</a></li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>Immutable only needs getitem, len</li>
<li>Mutable needs setitem</li>
<li>Implementing <strong>contains</strong> usually not needed, default behavior is to loop
  over your items and return if it was found.</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: ordered_dict.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>OrderedDict usage</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">collections</span>
<span class="lineno"> 2</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">ordered_dict</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="lineno"> 3</span> <span class="o">&gt;&gt;&gt;</span>
<span class="lineno"> 4</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">ordered_dict</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="lineno"> 5</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">ordered_dict</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno"> 6</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">ordered_dict</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="lineno"> 7</span> <span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">ordered_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> <span class="k">print</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span>
<span class="lineno"> 8</span> <span class="o">...</span>
<span class="lineno"> 9</span> <span class="n">a</span> <span class="mi">1</span>
<span class="lineno">10</span> <span class="n">b</span> <span class="mi">2</span>
<span class="lineno">11</span> <span class="n">c</span> <span class="mi">3</span>
<span class="lineno">12</span> 
<span class="lineno">13</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">unordered_dict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="lineno">14</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">unordered_dict</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="lineno">15</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">unordered_dict</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="lineno">16</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">unordered_dict</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="lineno">17</span> <span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">unordered_dict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span> <span class="k">print</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span>
<span class="lineno">18</span> <span class="o">...</span>
<span class="lineno">19</span> <span class="n">a</span> <span class="mi">1</span>
<span class="lineno">20</span> <span class="n">c</span> <span class="mi">3</span>
<span class="lineno">21</span> <span class="n">b</span> <span class="mi">2</span>
</pre></div>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Properties</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Managed attributes</li>
<li>'Encapsulation'</li>
<li>Add behavior to attribute actions</li>
<li>Simplify API</li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Properties</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno"> 2</span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="p">):</span>
<span class="lineno"> 3</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">name</span>
<span class="lineno"> 4</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_email</span> <span class="o">=</span> <span class="bp">None</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>         <span class="c"># Calls descriptor, verify on change and init</span>
<span class="lineno"> 7</span>         <span class="bp">self</span><span class="o">.</span><span class="n">email</span> <span class="o">=</span> <span class="n">email</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>     <span class="k">def</span> <span class="nf">set_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">):</span>
<span class="lineno">10</span>         <span class="k">if</span> <span class="s">&#39;@&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">email</span><span class="p">:</span>
<span class="lineno">11</span>             <span class="k">raise</span> <span class="ne">TypeError</span>
<span class="lineno">12</span> 
<span class="lineno">13</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_email</span> <span class="o">=</span> <span class="n">email</span>
<span class="lineno">14</span> 
<span class="lineno">15</span>     <span class="k">def</span> <span class="nf">get_email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="lineno">16</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_email</span>
<span class="lineno">17</span> 
<span class="lineno">18</span>     <span class="n">email</span> <span class="o">=</span> <span class="nb">property</span><span class="p">(</span><span class="n">get_email</span><span class="p">,</span> <span class="n">set_email</span><span class="p">)</span>
</pre></div>

</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>Attribute access looks like variable, can add behavior and method later
  without changing client/API</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Property usage</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s">&#39;luke&#39;</span><span class="p">,</span> <span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="lineno"> 2</span> <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno"> 3</span> <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno"> 4</span> <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="n">__init__</span>
<span class="lineno"> 5</span> <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">set_email</span>
<span class="lineno"> 6</span> <span class="ne">TypeError</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s">&#39;luke&#39;</span><span class="p">,</span> <span class="s">&#39;noreply@lukelee.net&#39;</span><span class="p">)</span>
<span class="lineno"> 9</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">email</span>
<span class="lineno">10</span> <span class="s">&#39;noreply@lukelee.net&#39;</span>
<span class="lineno">11</span> 
<span class="lineno">12</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">set_email</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">)</span>
<span class="lineno">13</span> <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="lineno">14</span> <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="lineno">15</span> <span class="n">File</span> <span class="s">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="n">set_email</span>
<span class="lineno">16</span> <span class="ne">TypeError</span>
<span class="lineno">17</span> 
<span class="lineno">18</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">set_email</span><span class="p">(</span><span class="s">&#39;test@test.com&#39;</span><span class="p">)</span>
<span class="lineno">19</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">email</span>
<span class="lineno">20</span> <span class="s">&#39;test@test.com&#39;</span>
<span class="lineno">21</span> 
<span class="lineno">22</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">_email</span> <span class="o">=</span> <span class="s">&#39;test&#39;</span>
<span class="lineno">23</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">u</span><span class="o">.</span><span class="n">email</span>
<span class="lineno">24</span> <span class="s">&#39;test&#39;</span>
</pre></div>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Descriptor powered</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="n">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">owner</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">__set__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="lineno">3</span> <span class="n">__delete__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">)</span>
</pre></div>

</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>owner is class instance</li>
<li>Fancy wording for class that overrides attribute look up w/ dunders</li>
<li><strong>delete</strong> called for descriptor attribute deletion</li>
<li><strong>del</strong> called in other scenarios right before obj deleted</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Pure Python property</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">Property</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno"> 2</span>     <span class="s">&quot;Emulate PyProperty_Type() in Objects/descrobject.c&quot;</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fget</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fset</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">fdel</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="lineno"> 5</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fget</span> <span class="o">=</span> <span class="n">fget</span>
<span class="lineno"> 6</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fset</span> <span class="o">=</span> <span class="n">fset</span>
<span class="lineno"> 7</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fdel</span> <span class="o">=</span> <span class="n">fdel</span>
<span class="lineno"> 8</span>         <span class="bp">self</span><span class="o">.</span><span class="n">__doc__</span> <span class="o">=</span> <span class="n">doc</span>
<span class="lineno"> 9</span> 
<span class="lineno">10</span>     <span class="k">def</span> <span class="nf">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">objtype</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="lineno">11</span>         <span class="k">if</span> <span class="n">obj</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno">12</span>             <span class="k">return</span> <span class="bp">self</span>
<span class="lineno">13</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fget</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno">14</span>             <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="s">&quot;unreadable attribute&quot;</span>
<span class="lineno">15</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">fget</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="lineno">16</span> 
<span class="lineno">17</span>     <span class="k">def</span> <span class="nf">__set__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="lineno">18</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fset</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno">19</span>             <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="s">&quot;can&#39;t set attribute&quot;</span>
<span class="lineno">20</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fset</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="lineno">21</span> 
<span class="lineno">22</span>     <span class="k">def</span> <span class="nf">__delete__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="lineno">23</span>         <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fdel</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
<span class="lineno">24</span>             <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">,</span> <span class="s">&quot;can&#39;t delete attribute&quot;</span>
<span class="lineno">25</span>         <span class="bp">self</span><span class="o">.</span><span class="n">fdel</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
</pre></div>

<ul>
<li><a href="http://docs.python.org/howto/descriptor.html">reference</a></li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Custom Descriptor</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span> <span class="o">=</span> <span class="n">Temperature</span><span class="p">()</span>
<span class="lineno">2</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span><span class="o">.</span><span class="n">farenheit</span> <span class="o">=</span> <span class="mi">98</span>
<span class="lineno">3</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span><span class="o">.</span><span class="n">celsius</span>
<span class="lineno">4</span> <span class="mf">36.666666666666664</span>
<span class="lineno">5</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span><span class="o">.</span><span class="n">farenheit</span>
<span class="lineno">6</span> <span class="mf">98.0</span>
<span class="lineno">7</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span><span class="o">.</span><span class="n">celsius</span> <span class="o">=</span> <span class="mi">38</span>
<span class="lineno">8</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">texas</span><span class="o">.</span><span class="n">farenheit</span>
<span class="lineno">9</span> <span class="mf">100.4</span>
</pre></div>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Custom Descriptor</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="k">class</span> <span class="nc">Celsius</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno"> 2</span>     <span class="sd">&quot;&quot;&quot;Fundamental Temperature Descriptor.&quot;&quot;&quot;</span>
<span class="lineno"> 3</span>     <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="mf">0.0</span><span class="p">):</span>
<span class="lineno"> 4</span>         <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span>     <span class="k">def</span> <span class="nf">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">owner</span><span class="p">):</span>
<span class="lineno"> 7</span>         <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">value</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span>     <span class="k">def</span> <span class="nf">__set__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="lineno">10</span>         <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="lineno">11</span> 
<span class="lineno">12</span> <span class="k">class</span> <span class="nc">Farenheit</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno">13</span>     <span class="sd">&quot;&quot;&quot;Requires that the owner have a ``celsius`` attribute.&quot;&quot;&quot;</span>
<span class="lineno">14</span>     <span class="k">def</span> <span class="nf">__get__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">owner</span><span class="p">):</span>
<span class="lineno">15</span>         <span class="k">return</span> <span class="n">instance</span><span class="o">.</span><span class="n">celsius</span> <span class="o">*</span> <span class="mi">9</span> <span class="o">/</span> <span class="mi">5</span> <span class="o">+</span> <span class="mi">32</span>
<span class="lineno">16</span> 
<span class="lineno">17</span>     <span class="k">def</span> <span class="nf">__set__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">instance</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="lineno">18</span>         <span class="n">instance</span><span class="o">.</span><span class="n">celsius</span> <span class="o">=</span> <span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="o">-</span> <span class="mi">32</span><span class="p">)</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">/</span> <span class="mi">9</span>
<span class="lineno">19</span> 
<span class="lineno">20</span> <span class="k">class</span> <span class="nc">Temperature</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno">21</span>     <span class="n">celsius</span> <span class="o">=</span> <span class="n">Celsius</span><span class="p">()</span>
<span class="lineno">22</span>     <span class="n">farenheit</span> <span class="o">=</span> <span class="n">Farenheit</span><span class="p">()</span>
</pre></div>

<ul>
<li><a href="http://www.itmaybeahack.com/book/python-2.6/html/p03/p03c05_properties.html">reference</a></li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: properties.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Properties extended</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="n">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="lineno">2</span> <span class="n">__setattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="lineno">3</span> <span class="n">__delattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="lineno">4</span> <span class="n">__getattribute__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>

<ul>
<li>Real encapsulation</li>
<li>Not always a good idea</li>
<li>Power means responsibility</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>getattr called only for missing attributes</li>
<li>Useful for throwing a good error message or meta programming</li>
<li>getattribute is called for all look up, be careful</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: open_source_dunders.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Dunders in the wild</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>Parsers: (HTML, markdown, XML)</li>
<li>Debugging tools: (IPython, PyCharm)</li>
<li>ORM</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li><strong>dir</strong>, <strong>repr</strong> for IPython</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: peewee.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Peewee ORM</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="n">__or__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 2</span> <span class="n">__and__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 3</span> <span class="n">__invert__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 4</span> <span class="n">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 5</span> <span class="n">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 6</span> <span class="n">__neg__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="n">SomeModel</span><span class="o">.</span><span class="n">select</span><span class="p">()</span><span class="o">.</span><span class="n">where</span><span class="p">(</span>
<span class="lineno"> 9</span>     <span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="s">&#39;A&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="n">Q</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="s">&#39;B&#39;</span><span class="p">))</span> <span class="o">&amp;</span>
<span class="lineno">10</span>     <span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">c</span><span class="o">=</span><span class="s">&#39;C&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="n">Q</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="s">&#39;D&#39;</span><span class="p">))</span>
<span class="lineno">11</span> <span class="p">)</span>
<span class="lineno">12</span> 
<span class="lineno">13</span> <span class="c"># generates something like:</span>
<span class="lineno">14</span> <span class="c"># SELECT * FROM some_obj</span>
<span class="lineno">15</span> <span class="c"># WHERE ((a = &quot;A&quot; OR b = &quot;B&quot;) AND (c = &quot;C&quot; OR d = &quot;D&quot;))</span>
</pre></div>

<ul>
<li>Heavy use of all math/logic overrides</li>
<li><a href="https://github.com/coleifer/peewee">peewee</a></li>
<li>Relatively small, &lt; 3000 lines</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>map logical '|', '&amp;', '~' to 'OR', 'AND', 'NOT' SQL</li>
<li><strong>neg</strong> is unary negation operator</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: pandas.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Pandas</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">pandas</span>
<span class="lineno"> 2</span> <span class="o">&gt;&gt;&gt;</span> <span class="c"># Series is 1-d numpy array with labels</span>
<span class="lineno"> 3</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">pandas</span><span class="o">.</span><span class="n">Series</span><span class="p">({</span><span class="s">&#39;a&#39;</span> <span class="p">:</span> <span class="mf">0.</span><span class="p">,</span> <span class="s">&#39;b&#39;</span> <span class="p">:</span> <span class="mf">1.</span><span class="p">,</span> <span class="s">&#39;c&#39;</span> <span class="p">:</span> <span class="mf">2.</span><span class="p">})</span>
<span class="lineno"> 4</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span>
<span class="lineno"> 5</span> <span class="n">a</span>    <span class="mi">0</span>
<span class="lineno"> 6</span> <span class="n">b</span>    <span class="mi">1</span>
<span class="lineno"> 7</span> <span class="n">c</span>    <span class="mi">2</span>
<span class="lineno"> 8</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno"> 9</span> <span class="mf">0.0</span>
<span class="lineno">10</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span>
<span class="lineno">11</span> <span class="n">c</span>    <span class="mi">2</span>
<span class="lineno">12</span> <span class="n">b</span>    <span class="mi">1</span>
<span class="lineno">13</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]][</span><span class="mi">0</span><span class="p">]</span>
<span class="lineno">14</span> <span class="mf">2.0</span>
<span class="lineno">15</span> 
<span class="lineno">16</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span><span class="p">[</span><span class="n">s</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">]</span>
<span class="lineno">17</span> <span class="n">b</span>    <span class="mi">1</span>
<span class="lineno">18</span> <span class="n">c</span>    <span class="mi">2</span>
<span class="lineno">19</span> 
<span class="lineno">20</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">*</span> <span class="mi">3</span>
<span class="lineno">21</span> <span class="n">a</span>    <span class="mi">0</span>
<span class="lineno">22</span> <span class="n">b</span>    <span class="mi">3</span>
<span class="lineno">23</span> <span class="n">c</span>    <span class="mi">6</span>
</pre></div>

<ul>
<li>Supports tons of fancy indexing</li>
<li>See pandas/core/series.py</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>Show pandas_snippet.py if time</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: pandas.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Panda's secrets</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="n">__ge__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rhs</span><span class="p">)</span>
<span class="lineno"> 2</span> <span class="n">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
<span class="lineno"> 3</span> 
<span class="lineno"> 4</span> <span class="o">&gt;&gt;&gt;</span> <span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="lineno"> 5</span>         <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
<span class="lineno"> 6</span>             <span class="k">print</span> <span class="s">&#39;</span><span class="si">%-15s</span><span class="s">  </span><span class="si">%s</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">key</span><span class="p">),</span> <span class="n">key</span><span class="p">)</span>
<span class="lineno"> 7</span> 
<span class="lineno"> 8</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span> <span class="o">=</span> <span class="n">Test</span><span class="p">()</span>
<span class="lineno"> 9</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="lineno">10</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;int&#39;</span><span class="o">&gt;</span>     <span class="mi">1</span>
<span class="lineno">11</span> 
<span class="lineno">12</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;hello world&#39;</span><span class="p">]</span>
<span class="lineno">13</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;str&#39;</span><span class="o">&gt;</span>     <span class="n">hello</span> <span class="n">world</span>
<span class="lineno">14</span> 
<span class="lineno">15</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>
<span class="lineno">16</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;tuple&#39;</span><span class="o">&gt;</span>   <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)</span>
<span class="lineno">17</span> 
<span class="lineno">18</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="mi">5</span><span class="p">:</span><span class="mi">200</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>
<span class="lineno">19</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;slice&#39;</span><span class="o">&gt;</span>   <span class="nb">slice</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="lineno">20</span> 
<span class="lineno">21</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">:</span><span class="s">&#39;z&#39;</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
<span class="lineno">22</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;slice&#39;</span><span class="o">&gt;</span>   <span class="nb">slice</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="lineno">23</span> 
<span class="lineno">24</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">t</span><span class="p">[</span><span class="nb">object</span><span class="p">()]</span>
<span class="lineno">25</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="s">&#39;object&#39;</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="nb">object</span> <span class="nb">object</span> <span class="n">at</span> <span class="mh">0x10aaf40d0</span><span class="o">&gt;</span>
</pre></div>

<ul>
<li>'key' argument is fancy</li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: my_dunder_attempts.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>My Dunder ideas/attempts</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno">1</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">frappy.services.github</span> <span class="kn">import</span> <span class="n">Github</span>
<span class="lineno">2</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">g</span> <span class="o">=</span> <span class="n">Github</span><span class="p">()</span>
<span class="lineno">3</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">result</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">users</span><span class="p">(</span><span class="s">&#39;octocat&#39;</span><span class="p">)</span>
<span class="lineno">4</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">result</span><span class="o">.</span><span class="n">response_json</span>
<span class="lineno">5</span> <span class="o">&gt;&gt;&gt;</span> <span class="c"># http://developer.github.com/v3/users/</span>
<span class="lineno">6</span> 
<span class="lineno">7</span> <span class="n">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="lineno">8</span> <span class="n">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>

<ul>
<li><strike>Extra documentation</strike></li>
<li><strike>Update for minor API changes</strike></li>
<li>Web API wrapper <a href="http://github.com/durden/frappy">frappy</a></li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>Main idea was to have a python wrapper for any REST API that didn't need it's
  own documentation or constant updates.</li>
<li>Meta programming</li>
<li>Create object with base domain name to query</li>
<li>Add missing attributes onto url, add args at the end as query string</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: my_dunder_attempts.md -->
        <section class="slide has_code">
            <div>
                
                    <header><h1>Hammock</h1></header>
                
                
                    <section class="slide-content"><div class="highlight"><pre><span class="lineno"> 1</span> <span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">hammock</span> <span class="kn">import</span> <span class="n">Hammock</span> <span class="k">as</span> <span class="n">Github</span>
<span class="lineno"> 2</span> 
<span class="lineno"> 3</span> <span class="o">&gt;&gt;&gt;</span> <span class="c"># Let&#39;s create the first chain of hammock using base API url</span>
<span class="lineno"> 4</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">github</span> <span class="o">=</span> <span class="n">Github</span><span class="p">(</span><span class="s">&#39;https://api.github.com&#39;</span><span class="p">)</span>
<span class="lineno"> 5</span> 
<span class="lineno"> 6</span> <span class="o">&gt;&gt;&gt;</span> <span class="c"># OK, let the magic happen, ask github for hammock watchers</span>
<span class="lineno"> 7</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">resp</span> <span class="o">=</span> <span class="n">github</span><span class="o">.</span><span class="n">repos</span><span class="p">(</span><span class="s">&#39;kadirpekel&#39;</span><span class="p">,</span> <span class="s">&#39;hammock&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">watchers</span><span class="o">.</span><span class="n">GET</span><span class="p">()</span>
<span class="lineno"> 8</span> 
<span class="lineno"> 9</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">api</span> <span class="o">=</span> <span class="n">hammock</span><span class="o">.</span><span class="n">Hammock</span><span class="p">(</span><span class="s">&#39;http://localhost:8000&#39;</span><span class="p">)</span>
<span class="lineno">10</span> <span class="o">&gt;&gt;&gt;</span> <span class="n">api</span><span class="p">(</span><span class="s">&#39;users&#39;</span><span class="p">)(</span><span class="s">&#39;foo&#39;</span><span class="p">,</span> <span class="s">&#39;posts&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">GET</span><span class="p">(</span><span class="s">&#39;bar&#39;</span><span class="p">,</span> <span class="s">&#39;comments&#39;</span><span class="p">)</span>
<span class="lineno">11</span> 
<span class="lineno">12</span> <span class="n">__getattr__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
<span class="lineno">13</span> <span class="n">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="lineno">14</span> <span class="n">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="lineno">15</span> <span class="n">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

<ul>
<li>Chains 'hammock' objects</li>
<li>Allows arguments anywhere</li>
<li><a href="https://github.com/kadirpekel/hammock">hammock</a></li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: philosophy.md -->
        <section class="slide">
            <div>
                
                    <header><h1>Python Philosophy</h1></header>
                
                
                    <section class="slide-content"><ul>
<li>When in doubt, rationalize from 'The Zen'</li>
<li>In the face of ambiguity, refuse the temptation to guess.</li>
<li>There should be one-- and preferably only one --obvious way to do it.</li>
<li>Explicit is better than implicit.</li>
<li>Readability counts.</li>
<li>If the implementation is hard to explain, it's a bad idea.</li>
</ul>
</section>
                
                <div class="presenter_notes">
                    <section>
                    
                        <ul>
<li>no ambiguity, getlen(), getLength(), len(), etc.</li>
<li>Much cleaner IMO than c++/Java syntax of operator overloading</li>
<li>Docs aren't great, but clearly defined what happens</li>
<li>Use caution</li>
</ul>
                    
                    </section>
                </div>
            </div>
        </section>
     
      <!-- slide source: references.md -->
        <section class="slide">
            <div>
                
                    <header><h1>References</h1></header>
                
                
                    <section class="slide-content"><h2>Code</h2>
<ul>
<li><a href="http://www.rafekettler.com/magicmethods.html">Magic Methods</a></li>
<li><a href="http://pinboard.in/u:durden/t:dunder_talk/">Code/Examples/Sources</a></li>
<li><a href="http://durden.github.com/dunder_talk/">Presentation</a></li>
<li><a href="https://github.com/adamzap/landslide">Landslide</a></li>
</ul>
<h2>Me</h2>
<ul>
<li><a href="http://twitter.com/durden20">@durden20</a></li>
<li><a href="http://codrspace.com/durden">Codrspace blog</a></li>
<li><a href="http://github.com/durden">http://github.com/durden</a></li>
<li><a href="http://lukelee.me">http://lukelee.me</a></li>
<li><a href="http://lukelee.net">http://lukelee.net</a></li>
</ul></section>
                
                <div class="presenter_notes">
                    <section>
                    
                    </section>
                </div>
            </div>
        </section>
     
	<!--
		To hide progress bar from entire presentation
		just remove “progress” element.
		-->
	<div class="progress"><div></div></div>
	<script src="ribbon/js/script.js"></script>
	<!-- Copyright © 2010–2012 Vadim Makeev — pepelsbey.net -->
</body>
</html>